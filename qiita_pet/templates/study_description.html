{% extends sitebase.html %}
{% block content %}

<!-- Upload section -->

<table border="0" style="vertical-align: middle; text-align:center; align:center; height: 150px; width: 100%;">
  <tr>
    <td style="vertical-align: middle; text-align:center; width: 50%;"><b>Upload metadata</b></td>
    <td style="vertical-align: middle; text-align:center; width: 50%;"><b>Upload sequence files</b></td>
  </tr>
  <tr>
    <td style="vertical-align: top; text-align:center; ">
      <div style="height: 150px; width: 95%; background-color:lightgrey; border: 2px solid; border-radius: 25px;" class="resumable-drop-metadata" ondragenter="jQuery(this).addClass('resumable-dragover');" ondragend="jQuery(this).removeClass('resumable-dragover');" ondrop="jQuery(this).removeClass('resumable-dragover');">
        <p style="vertical-align: middle;">Drop files here to upload or <a class="resumable-browse-metadata"><u>select from your computer</u></a></p>
      </div>

      <div class="progress-metadata" style="display:none;">
        <table>
          <tr>
            <td width="100%"><div class="progress-container"><div class="progress-bar"></div></div></td>
            <td class="progress-text" nowrap="nowrap"></td>
            <td class="progress-pause" nowrap="nowrap">
              &nbsp;&nbsp;&nbsp;&nbsp;
              <a href="#" onclick="uploader_metadata.resumable.upload(); return(false);" class="progress-resume-link"><span class="glyphicon glyphicon-play"></span></a>
              &nbsp;&nbsp;&nbsp;&nbsp;
              <a href="#" onclick="uploader_metadata.resumable.pause(); return(false);" class="progress-pause-link"><span class="glyphicon glyphicon-pause"></span></a>
            </td>
          </tr>
        </table>
      </div>


      <div class="uploader-list-metadata" style="display:none;">
        <div class="uploader-item">
          ... (generated thumbnails for each file)
        </div>
      </div>

      <div class="file-edit-container-sequences" style="display:none;">
        ... (elements for the edit UI)
      </div>

    </td>
    <td style="vertical-align: top; text-align:center; ">
      <div style="text-align:center; height: 150px; width: 95%; background-color:lightgrey; border: 2px solid; border-radius: 25px;" class="resumable-drop-sequences" ondragenter="jQuery(this).addClass('resumable-dragover');" ondragend="jQuery(this).removeClass('resumable-dragover');" ondrop="jQuery(this).removeClass('resumable-dragover');">
        <p style="vertical-align: middle;">Drop files here to upload or <a class="resumable-browse-sequences"><u>select from your computer</u></a></p>
      </div>

      <div class="progress-sequences" style="display:none;">
        <table>
          <tr>
            <td width="100%"><div class="progress-container"><div class="progress-bar"></div></div></td>
            <td class="progress-text" nowrap="nowrap"></td>
            <td class="progress-pause" nowrap="nowrap">
              &nbsp;&nbsp;&nbsp;&nbsp;
              <a href="#" onclick="uploader_sequences.resumable.upload(); return(false);" class="progress-resume-link"><span class="glyphicon glyphicon-play"></span></a>
              &nbsp;&nbsp;&nbsp;&nbsp;
              <a href="#" onclick="uploader_sequences.resumable.pause(); return(false);" class="progress-pause-link"><span class="glyphicon glyphicon-pause"></span></a>
            </td>
          </tr>
        </table>
      </div>


      <div class="uploader-list-sequences" style="display:none;">
        <div class="uploader-item">
        </div>
      </div>

      <div class="file-edit-container-sequences" style="display:none;">
      </div>


    </td>
  </tr>
</table>

<script src="/static/vendor/js/resumable.js"></script>
<script src="/static/vendor/js/resumable-uploader.js"></script>
<script>
  var meta = {};
  var maxFileSize = 100; // in Gb

  uploader_metadata = (function($){
      return (new ResumableUploader(meta, $('.resumable-browse-metadata'), $('.resumable-drop-metadata'), $('.progress-metadata'), $('.uploader-list-metadata'), $('.file-edit-container-metadata'), maxFileSize));
    })(jQuery);
  uploader_sequences = (function($){
      return (new ResumableUploader(meta, $('.resumable-browse-sequences'), $('.resumable-drop-sequences'), $('.progress-sequences'), $('.uploader-list-sequences'), $('.file-edit-container-sequences'), maxFileSize));
  })(jQuery);
</script>

{% end %}
